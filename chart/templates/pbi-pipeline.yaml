{{- $ticket1 := include "fireworks-app.get-ticket1" $ | fromYaml }}
{{- $ticket2 := include "fireworks-app.get-ticket2" $ | fromYaml }}
{{- if and $ticket1 $ticket2 }}
---
apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ include "fireworks-app.chart" $ }}-pbi-pipeline
  namespace: demo-system
  labels:
    {{- include "fireworks-app.labels" $ | nindent 4 }}
data:
  id: ""
  workspace-dev-id: ""
  workspace-uat-id: ""
  workspace-pro-id: ""
  body: {{ printf "B1-%s|B2-%s" $ticket1.data.body $ticket2.data.body | quote }}
{{- end }}